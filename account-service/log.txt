[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------< com.broome.micro.bank:account-service >----------------
[INFO] Building account-service 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ account-service ---
[INFO] Deleting /Users/robin/tutorial/microbank/account-service/target
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ account-service ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ account-service ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 21 source files to /Users/robin/tutorial/microbank/account-service/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ account-service ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.0:testCompile (default-testCompile) @ account-service ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /Users/robin/tutorial/microbank/account-service/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.22.1:test (default-test) @ account-service ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.broome.micro.bank.accountservice.AccountServiceApplicationTests
14:14:36.235 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.246 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:14:36.258 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:14:36.285 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
14:14:36.302 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests], using SpringBootContextLoader
14:14:36.307 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]: class path resource [com/broome/micro/bank/accountservice/AccountServiceApplicationTests-context.xml] does not exist
14:14:36.307 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]: class path resource [com/broome/micro/bank/accountservice/AccountServiceApplicationTestsContext.groovy] does not exist
14:14:36.307 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
14:14:36.308 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]: AccountServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:14:36.365 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.513 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/Users/robin/tutorial/microbank/account-service/target/classes/com/broome/micro/bank/accountservice/AccountServiceApplication.class]
14:14:36.514 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.broome.micro.bank.accountservice.AccountServiceApplication for test class com.broome.micro.bank.accountservice.AccountServiceApplicationTests
14:14:36.663 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]: using defaults.
14:14:36.664 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
14:14:36.705 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7c1e2a9e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@fa36558, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@672872e1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@32910148, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3f56875e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2b4bac49, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fd07cbb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3571b748, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3e96bacf, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@484970b0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4470f8a6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7c83dc97]
14:14:36.715 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.716 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.726 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.726 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.727 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.727 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.741 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@609db43b testClass = AccountServiceApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@55f616cf testClass = AccountServiceApplicationTests, locations = '{}', classes = '{class com.broome.micro.bank.accountservice.AccountServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@aecb35a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6483f5ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@140e5a13, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7181ae3f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
14:14:36.743 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.743 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.broome.micro.bank.accountservice.AccountServiceApplicationTests]
14:14:36.787 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=-1}
2019-02-21 14:14:37.879  INFO 43281 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dc3bd891] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.2.RELEASE)

2019-02-21 14:14:38.669  INFO 43281 --- [           main] c.b.m.b.a.AccountServiceApplicationTests : No active profile set, falling back to default profiles: default
2019-02-21 14:14:40.331  INFO 43281 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-02-21 14:14:40.726  INFO 43281 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 367ms. Found 1 repository interfaces.
2019-02-21 14:14:42.051  INFO 43281 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=184784aa-b526-3124-abf5-d6fce985e144
2019-02-21 14:14:42.591  INFO 43281 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c021d594] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-21 14:14:42.739  INFO 43281 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dc3bd891] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-21 14:14:43.634  INFO 43281 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-02-21 14:14:44.225  INFO 43281 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-02-21 14:14:44.666  INFO 43281 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-02-21 14:14:44.931  INFO 43281 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-02-21 14:14:44.934  INFO 43281 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-02-21 14:14:45.278  INFO 43281 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-02-21 14:14:45.526  INFO 43281 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-02-21 14:14:46.375  INFO 43281 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6fe04f2a'
2019-02-21 14:14:46.380  INFO 43281 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-02-21 14:14:48.562  WARN 43281 --- [           main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2019-02-21 14:14:48.562  INFO 43281 --- [           main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-21 14:14:48.572  WARN 43281 --- [           main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2019-02-21 14:14:48.572  INFO 43281 --- [           main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-21 14:14:49.764  INFO 43281 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-02-21 14:14:49.851  WARN 43281 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-02-21 14:14:50.942  INFO 43281 --- [           main] c.b.m.b.a.AccountServiceApplicationTests : Started AccountServiceApplicationTests in 14.14 seconds (JVM running for 15.635)
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 15.161 s - in com.broome.micro.bank.accountservice.AccountServiceApplicationTests
[INFO] Running com.broome.micro.bank.accountservice.AccountCucumberIntegrationTest
2019-02-21 14:14:51.531  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps], using SpringBootContextLoader
2019-02-21 14:14:51.534  INFO 43281 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-02-21 14:14:51.534  INFO 43281 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: AccountCucumberSteps does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-02-21 14:14:51.546  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.broome.micro.bank.accountservice.AccountServiceApplication for test class com.broome.micro.bank.accountservice.AccountCucumberSteps
2019-02-21 14:14:51.550  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-02-21 14:14:51.550  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@205f52ea, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@34f60be9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@29ccab93, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7e2a76be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@24b8a393, org.springframework.test.context.transaction.TransactionalTestExecutionListener@20155dae, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6c49ea0c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@417bfebd, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@20be793a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2a4cb8ae, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@9763e61, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@17e6b7e4]
2019-02-21 14:14:51.683  INFO 43281 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dc3bd891] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.2.RELEASE)

2019-02-21 14:14:51.746  INFO 43281 --- [           main] c.b.m.b.a.AccountCucumberSteps           : No active profile set, falling back to default profiles: default
2019-02-21 14:14:52.353  INFO 43281 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-02-21 14:14:52.366  INFO 43281 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 1 repository interfaces.
2019-02-21 14:14:52.449  INFO 43281 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6766c4e3-cb0c-3b67-8600-de123d37f97a
2019-02-21 14:14:52.905  INFO 43281 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c021d594] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-21 14:14:52.967  INFO 43281 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dc3bd891] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-21 14:14:53.804  INFO 43281 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2019-02-21 14:14:53.882  INFO 43281 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-02-21 14:14:53.885  INFO 43281 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.14]
2019-02-21 14:14:53.915  INFO 43281 --- [           main] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/robin/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-21 14:14:54.136  INFO 43281 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-02-21 14:14:54.136  INFO 43281 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2376 ms
2019-02-21 14:14:54.493  INFO 43281 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-02-21 14:14:54.495  INFO 43281 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-02-21 14:14:54.544  INFO 43281 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-02-21 14:14:54.557  INFO 43281 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-02-21 14:14:54.628  INFO 43281 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6fe04f2a'
2019-02-21 14:14:54.629  INFO 43281 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-02-21 14:14:55.136  WARN 43281 --- [           main] o.s.c.n.a.ArchaiusAutoConfiguration      : Netflix ConfigurationManager has already been installed, unable to re-install
2019-02-21 14:14:55.530  INFO 43281 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-02-21 14:14:55.561  WARN 43281 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-02-21 14:14:56.839  INFO 43281 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 50797 (http) with context path ''
2019-02-21 14:14:56.840  INFO 43281 --- [           main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 50797
2019-02-21 14:14:56.851  INFO 43281 --- [           main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2019-02-21 14:14:56.927  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2019-02-21 14:14:57.027  INFO 43281 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2019-02-21 14:14:57.027  INFO 43281 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2019-02-21 14:14:57.214  INFO 43281 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2019-02-21 14:14:57.214  INFO 43281 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2019-02-21 14:14:57.551  INFO 43281 --- [           main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2019-02-21 14:14:57.591  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2019-02-21 14:14:57.591  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2019-02-21 14:14:57.591  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2019-02-21 14:14:57.592  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2019-02-21 14:14:57.592  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2019-02-21 14:14:57.592  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2019-02-21 14:14:57.592  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2019-02-21 14:14:57.863  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2019-02-21 14:14:57.866  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2019-02-21 14:14:57.870  INFO 43281 --- [           main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2019-02-21 14:14:57.874  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1550754897873 with initial instances count: 3
2019-02-21 14:14:57.884  INFO 43281 --- [           main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ACCOUNT-SERVICE with eureka with status UP
2019-02-21 14:14:57.885  INFO 43281 --- [           main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1550754897885, current=UP, previous=STARTING]
2019-02-21 14:14:57.888  INFO 43281 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ACCOUNT-SERVICE/192.168.43.177:account-service:0: registering service...
2019-02-21 14:14:57.893  INFO 43281 --- [           main] c.b.m.b.a.AccountCucumberSteps           : Started AccountCucumberSteps in 6.34 seconds (JVM running for 22.586)
Feature: Account functionalities

  Scenario: List cards           # src/test/resources/features/account.feature:3
2019-02-21 14:14:57.956  INFO 43281 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ACCOUNT-SERVICE/192.168.43.177:account-service:0 - registration status: 204
2019-02-21 14:14:58.012  INFO 43281 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-02-21 14:14:58.223  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
2019-02-21 14:14:58.379  INFO 43281 --- [o-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-02-21 14:14:58.380  INFO 43281 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-02-21 14:14:58.412  INFO 43281 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 32 ms
    Given user 1 have an account # AccountCucumberSteps.userHaveAnAccount(String)
2019-02-21 14:14:59.156  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    And user 2 have an account   # AccountCucumberSteps.userHaveAnAccount(String)
    When user 1 list accounts    # AccountCucumberSteps.userListsAccounts(String)
2019-02-21 14:14:59.177  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Then user 1 have 1 account   # AccountCucumberSteps.userHaveAccount(String,int)
2019-02-21 14:14:59.312  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps], using SpringBootContextLoader
2019-02-21 14:14:59.316  INFO 43281 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-02-21 14:14:59.316  INFO 43281 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: AccountCucumberSteps does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-02-21 14:14:59.320  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.broome.micro.bank.accountservice.AccountServiceApplication for test class com.broome.micro.bank.accountservice.AccountCucumberSteps
2019-02-21 14:14:59.324  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-02-21 14:14:59.325  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@280e4390, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21262bde, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3df7e309, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55f4ec04, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f3c27e9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1fd4850b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1db9d253, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6f5f892c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b2e841, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3a75d9a1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@698daff6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a085d02]

  Scenario: List specific account         # src/test/resources/features/account.feature:9
2019-02-21 14:14:59.355  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Given user 1 have an account          # AccountCucumberSteps.userHaveAnAccount(String)
    When user 1 lists the correct account # AccountCucumberSteps.listCorrectAcount(String)
2019-02-21 14:14:59.373  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
2019-02-21 14:14:59.383  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
2019-02-21 14:14:59.405  INFO 43281 --- [o-auto-1-exec-6] c.b.m.b.a.service.AccountService         : Amount: 0
    Then only that account is returned    # AccountCucumberSteps.onlyCorrectAccountReturned()
2019-02-21 14:14:59.416  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps], using SpringBootContextLoader
2019-02-21 14:14:59.417  INFO 43281 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-02-21 14:14:59.418  INFO 43281 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: AccountCucumberSteps does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-02-21 14:14:59.423  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.broome.micro.bank.accountservice.AccountServiceApplication for test class com.broome.micro.bank.accountservice.AccountCucumberSteps
2019-02-21 14:14:59.425  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-02-21 14:14:59.425  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@d98ce13, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1e86b2d1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@65029fc, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4865434e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c6e407, org.springframework.test.context.transaction.TransactionalTestExecutionListener@287dde94, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2f650dae, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4df8443f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79aa675b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3fe59f84, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@38eafdab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@373c8f35]

  Scenario: List other user's account                    # src/test/resources/features/account.feature:14
2019-02-21 14:14:59.438  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Given user 1 have an account                         # AccountCucumberSteps.userHaveAnAccount(String)
2019-02-21 14:14:59.456  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
2019-02-21 14:14:59.467  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Then user 2 lists user 1 account and 404 is returned # AccountCucumberSteps.listOtherUsersAccount(String,String)
2019-02-21 14:14:59.506  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps], using SpringBootContextLoader
2019-02-21 14:14:59.508  INFO 43281 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-02-21 14:14:59.508  INFO 43281 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: AccountCucumberSteps does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-02-21 14:14:59.513  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.broome.micro.bank.accountservice.AccountServiceApplication for test class com.broome.micro.bank.accountservice.AccountCucumberSteps
2019-02-21 14:14:59.514  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-02-21 14:14:59.515  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2e04c89d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2e7dd504, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3e5febe9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5643052d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e0b7f58, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e9e4468, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdff4f1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@117be84a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@140fa482, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78de0f6f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@588614f9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@16718e1b]

  Scenario: List invalid account                            # src/test/resources/features/account.feature:18
2019-02-21 14:14:59.525  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Given user 1 have an account                            # AccountCucumberSteps.userHaveAnAccount(String)
2019-02-21 14:14:59.540  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Then user 1 lists the wrong account and 404 is returned # AccountCucumberSteps.listWrongAcount(String)
2019-02-21 14:14:59.551  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps], using SpringBootContextLoader
2019-02-21 14:14:59.552  INFO 43281 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-02-21 14:14:59.552  INFO 43281 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: AccountCucumberSteps does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-02-21 14:14:59.554  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.broome.micro.bank.accountservice.AccountServiceApplication for test class com.broome.micro.bank.accountservice.AccountCucumberSteps
2019-02-21 14:14:59.556  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-02-21 14:14:59.556  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@79169472, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@304cad3a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@628cb8e0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19f9404d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5481f204, org.springframework.test.context.transaction.TransactionalTestExecutionListener@171b0d3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@63d43a5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@55159007, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@edf4973, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2a49753, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6e68ccc9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1784fcab]

  Scenario: Add a new account                     # src/test/resources/features/account.feature:22
2019-02-21 14:14:59.569  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Given user 1 have an account                  # AccountCucumberSteps.userHaveAnAccount(String)
2019-02-21 14:14:59.584  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    When user 1 adds an account with name Savings # AccountCucumberSteps.addNewAccountWithName(String,String)
2019-02-21 14:14:59.596  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Then user 1 have 2 account                    # AccountCucumberSteps.userHaveAccount(String,int)
2019-02-21 14:14:59.605  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    And one account has name Savings              # AccountCucumberSteps.oneAccountWithName(String)
2019-02-21 14:14:59.621  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps], using SpringBootContextLoader
2019-02-21 14:14:59.622  INFO 43281 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-02-21 14:14:59.622  INFO 43281 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: AccountCucumberSteps does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-02-21 14:14:59.625  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.broome.micro.bank.accountservice.AccountServiceApplication for test class com.broome.micro.bank.accountservice.AccountCucumberSteps
2019-02-21 14:14:59.627  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-02-21 14:14:59.627  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@64ff0eaa, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@401b7226, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1b62ad1e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@714a4ba2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ddc817f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@764d54a0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78c91d2a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5b7d5eca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@52a3eba3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4ed74d03, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7ec729be, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f7da3a2]

  Scenario: Validate when account dont have enough money                      # src/test/resources/features/account.feature:28
2019-02-21 14:14:59.641  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Given user 1 have an account                                              # AccountCucumberSteps.userHaveAnAccount(String)
2019-02-21 14:14:59.657  INFO 43281 --- [           main] c.b.m.b.a.AccountIntegrationTest         : Looking for account 37730001 with user 1
2019-02-21 14:14:59.657  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    And account has balance 0                                                 # AccountCucumberSteps.accountHasBalance(int)
2019-02-21 14:14:59.673  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
2019-02-21 14:14:59.680  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
2019-02-21 14:14:59.680  INFO 43281 --- [           main] c.b.m.b.a.AccountIntegrationTest         : POST to http://localhost:50797/accounts/37730007/auth
2019-02-21 14:14:59.695  INFO 43281 --- [o-auto-1-exec-9] c.b.m.b.a.service.AccountService         : Authorize accountnumner 37730007 and amount 50
2019-02-21 14:14:59.708  INFO 43281 --- [o-auto-1-exec-9] c.b.m.b.a.service.AccountService         : Amount: 0
    Then some service asks if its possible to deduct 50 and it is not allowed # AccountCucumberSteps.authorizeAmountNotAllowed(int)
2019-02-21 14:14:59.716  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps], using SpringBootContextLoader
2019-02-21 14:14:59.717  INFO 43281 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-02-21 14:14:59.717  INFO 43281 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.broome.micro.bank.accountservice.AccountCucumberSteps]: AccountCucumberSteps does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2019-02-21 14:14:59.720  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.broome.micro.bank.accountservice.AccountServiceApplication for test class com.broome.micro.bank.accountservice.AccountCucumberSteps
2019-02-21 14:14:59.722  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-02-21 14:14:59.722  INFO 43281 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5e781b4f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1b89debc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7305191e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@159314ca, org.springframework.test.context.support.DirtiesContextTestExecutionListener@bafc754, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5e8684a3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@590ab84, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@8a8cab8, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7d48299e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@17810908, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@174d5cf7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@597eb9ac]

  Scenario: Validate when account have enough money                       # src/test/resources/features/account.feature:33
2019-02-21 14:14:59.731  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    Given user 1 have an account                                          # AccountCucumberSteps.userHaveAnAccount(String)
2019-02-21 14:14:59.743  INFO 43281 --- [           main] c.b.m.b.a.AccountIntegrationTest         : Looking for account 37730001 with user 1
2019-02-21 14:14:59.743  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
    And account has balance 500                                           # AccountCucumberSteps.accountHasBalance(int)
2019-02-21 14:14:59.758  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
2019-02-21 14:14:59.765  INFO 43281 --- [           main] c.b.m.b.a.BaseIntegrationTest            : PORT: 50797
2019-02-21 14:14:59.766  INFO 43281 --- [           main] c.b.m.b.a.AccountIntegrationTest         : POST to http://localhost:50797/accounts/37730008/auth
2019-02-21 14:14:59.774  INFO 43281 --- [o-auto-1-exec-3] c.b.m.b.a.service.AccountService         : Authorize accountnumner 37730008 and amount 50
2019-02-21 14:14:59.776  INFO 43281 --- [o-auto-1-exec-3] c.b.m.b.a.service.AccountService         : Amount: 0
    Then some service asks if its possible to deduct 50 and it is allowed # AccountCucumberSteps.authorizeAmountAllowed(int)

7 Scenarios (7 passed)
21 Steps (21 passed)
0m8.259s

[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.603 s - in com.broome.micro.bank.accountservice.AccountCucumberIntegrationTest
[INFO] Running com.broome.micro.bank.accountservice.AccountIntegrationTest
[WARNING] Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 s - in com.broome.micro.bank.accountservice.AccountIntegrationTest
2019-02-21 14:14:59.814  INFO 43281 --- [      Thread-12] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ACCOUNT-SERVICE with eureka with status DOWN
2019-02-21 14:14:59.814  WARN 43281 --- [      Thread-12] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1550754899814, current=DOWN, previous=UP]
2019-02-21 14:14:59.814  INFO 43281 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ACCOUNT-SERVICE/192.168.43.177:account-service:0: registering service...
2019-02-21 14:14:59.818  INFO 43281 --- [       Thread-6] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2019-02-21 14:14:59.819  INFO 43281 --- [      Thread-12] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-02-21 14:14:59.823  INFO 43281 --- [       Thread-6] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ACCOUNT-SERVICE with eureka with status DOWN
2019-02-21 14:14:59.825  INFO 43281 --- [      Thread-12] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-02-21 14:14:59.825  INFO 43281 --- [      Thread-12] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-02-21 14:14:59.826  INFO 43281 --- [       Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-02-21 14:14:59.827  INFO 43281 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ACCOUNT-SERVICE/192.168.43.177:account-service:0 - registration status: 204
2019-02-21 14:14:59.830  INFO 43281 --- [       Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-02-21 14:14:59.830  INFO 43281 --- [       Thread-6] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-02-21 14:14:59.834  INFO 43281 --- [      Thread-12] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLException: The database has been closed [90098-197]
2019-02-21 14:14:59.834  INFO 43281 --- [       Thread-6] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-02-21 14:14:59.835  INFO 43281 --- [      Thread-12] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2019-02-21 14:14:59.835  INFO 43281 --- [       Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-02-21 14:14:59.840  INFO 43281 --- [       Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-02-21 14:15:02.839  INFO 43281 --- [      Thread-12] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2019-02-21 14:15:02.846  INFO 43281 --- [      Thread-12] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ACCOUNT-SERVICE/192.168.43.177:account-service:0 - deregister  status: 200
2019-02-21 14:15:02.862  INFO 43281 --- [      Thread-12] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2019-02-21 14:15:02.863  INFO 43281 --- [      Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-02-21 14:15:02.870  INFO 43281 --- [      Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
[INFO] 
[INFO] Results:
[INFO] 
[WARNING] Tests run: 9, Failures: 0, Errors: 0, Skipped: 1
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 37.292 s
[INFO] Finished at: 2019-02-21T14:15:05+01:00
[INFO] ------------------------------------------------------------------------
